
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>fire on the world!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="YLJ77">
    

    
    <meta name="description" content="学习总结与感悟">
<meta property="og:type" content="website">
<meta property="og:title" content="fire on the world!">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="fire on the world!">
<meta property="og:description" content="学习总结与感悟">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="fire on the world!">
<meta name="twitter:description" content="学习总结与感悟">

    
    <link rel="alternative" href="/atom.xml" title="fire on the world!" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="fire on the world!" title="fire on the world!"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="fire on the world!">fire on the world!</a></h1>
				<h2 class="blog-motto">try to take over the world</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/14/Ditch the [].forEach.call(NodeList) hack/" title="Ditch the [].forEach.call(NodeList) hack" itemprop="url">Ditch the [].forEach.call(NodeList) hack</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-07-14T15:41:41.176Z" itemprop="datePublished"> 发表于 2017-07-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>翻译自<a href="https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/" target="_blank" rel="external">Ditch the [].forEach.call(NodeList) hack</a></p>
<p>在我们进一步之前，我不得不承认，我曾经使用过这种技术。 这让它看起来很酷，很酷，我像是在做ECMA5 hack，但过了一段时间，我写出了更好的JavaScript，才发现这种技术只会引起头痛且是不必要的时髦代码，接下来我将把我的想法放在为什么我现在不主张这种技术。</p>
<p><strong>理解 [].forEach.call(NodeList)</strong></p>
<p>让我们来确定一下这个hack的实际情况，然后才能看出为什么我认为这是一个非常糟糕的技术。让我们创建一个普通的数组，并使用ECMA5的.forEach这个神奇的方法去遍历它：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line">myArray.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(item); <span class="comment">// prints each number</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>上面看起来不错，但”hack”在哪里适用？试试输入NodeList：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myNodeList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'li'</span>); <span class="comment">// 获取一些 &lt;li&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Uncaught TypeError: Object #&lt;NodeList&gt; has no method 'forEach' </span></div><div class="line">myNodeList.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</div><div class="line">  <span class="comment">// :(</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>这里我们遇到了一个错误，因为NodeLists不共享其中包含forEach方法的Array的原型，。呃，但是还是有”解决方案”：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">NodeList.prototype.forEach = <span class="built_in">Array</span>.prototype.forEach;</div></pre></td></tr></table></figure>
<p>如果你这样做过，那可能不是一个好主意（请不要使用它）。通过原型扩展现有的DOM功能通常被认为是不好的做法，因为这可能会导致大量的问题。 </p>
<p>解决这个问题更好的方法是：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myNodeList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'li'</span>); <span class="comment">// grabs some &lt;li&gt;</span></div><div class="line">[].forEach.call(myNodeList, <span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</div><div class="line">  <span class="comment">// :) hooray `item` can be used here</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>通过创建（空）数组并通过NodeList间接调用数组的原型的forEach方法，现在一切都奏效了。</p>
<p>现在来看看这个技术的一些问题</p>
<p><strong>Problems</strong></p>
<p><strong>Problem #1: 没有数组方法</strong></p>
<p>这是一个大问题。 NodeLists是有一个length属性的，如果要添加一个新元素或者从该列表中删除一个元素，你不能通过使用forEach的hack来保持任何状态，并且也无法访问列表本身，这意味着它是一条单向的方法，也就是说在静态元素的情况下你只能操纵一次，你不能继续添加/删除其他元素。</p>
<p>因为使用诸如.splice（）之类的方法将导致错误 - 原因是NodeLists在它们的Prototype中不包含这个方法。节点列表不能被改变，这通常是非常不切实际的。这也意味着你除了可以绑定事件处理程序或调用方法外，不能做任何其它令人兴奋的操作。</p>
<p><strong>Problem #2: 限制复用</strong></p>
<p>当我们缓存一个dom时，我们缓存的不是一个数组，这意味着我们无法重复使用该方法。我认为这是一个严重的可扩展性和可重用性的问题。如果我想再次调用该方法怎么办？那我必须编写相同的非描述性代码两次。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// cached, we can access this again</span></div><div class="line"><span class="keyword">var</span> myNodeList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'li'</span>);</div><div class="line"></div><div class="line"><span class="comment">// this will only get called once</span></div><div class="line"><span class="comment">// and cannot be called again</span></div><div class="line">[].forEach.call(myNodeList, <span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</div><div class="line">  <span class="comment">// :(</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/12/Replacing switch statements with Object literals/" title="Replacing switch statements with Object literals" itemprop="url">Replacing switch statements with Object literals</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-07-12T15:29:42.628Z" itemprop="datePublished"> 发表于 2017-07-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>翻译自<a href="https://toddmotto.com/deprecating-the-switch-statement-for-object-literals/" target="_blank" rel="external">Replacing switch statements with Object literals</a></p>
<p>在许多编程语言中，都有switch语句 - 但是它还应该存在吗？如果你是一个JavaScript程序员，那么你经常会跳出对象，创建，实例化和操作它们。对象是非常灵活的，它们几乎是JavaScript中的一切，而使用对象而不是使用switch语句是我最近一直在做的。</p>
<p><strong>switch语句的问题</strong></p>
<p>switch语句有多个问题，从其过程控制流到其处理代码块的方式是非标准的，而JavaScript的其它流程控制语句使用的时花括号。它既不是语法上最好的，也不是设计上最好的。我们不得不在每个case语句后面添加break语句，这可能导致难以调试和产生嵌套的错误。因此，进一步讲，我们应该避免使用case语句。道格拉斯·克罗克福德（Douglas Crockford）曾经多次写过和说过，谨慎对待switch语句。</p>
<p>我们经常在javascript中使用对象查找数据，但我们通常不会考虑使用switch。所以为什么不使用对象字面量来替换switch呢？对象更加灵活，具有更好的可读性和可维护性，且我们不需要手动添加break和case语句;它们对于新的JavaScript开发人员来说也是很友好的，因为它们是标准的数据对象。</p>
<p>随着”case”数量的增加，对象（哈希表）的性能要好于switch的平均成本（case的顺序很重要）。对象方法是哈希表查找，而switch必须评估每个case语句，直到它遇到匹配的case和break。</p>
<p><strong>对象字面量查找</strong></p>
<p>我们一直使用对象，无论是构造函数还是字面量。通常，我们使用它们进行对象查找，从Object属性中获取值。</p>
<p>现在我们设置一个简单的对象字面量，它只返回一个String类型的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDrink</span> (<span class="params">type</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> drinks = &#123;</div><div class="line">    <span class="string">'coke'</span>: <span class="string">'Coke'</span>,</div><div class="line">    <span class="string">'pepsi'</span>: <span class="string">'Pepsi'</span>,</div><div class="line">    <span class="string">'lemonade'</span>: <span class="string">'Lemonade'</span>,</div><div class="line">    <span class="string">'default'</span>: <span class="string">'Default item'</span></div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> <span class="string">'The drink I chose was '</span> + (drinks[type] || drinks[<span class="string">'default'</span>]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> drink = getDrink(<span class="string">'coke'</span>);</div><div class="line"><span class="comment">// The drink I chose was Coke</span></div><div class="line"><span class="built_in">console</span>.log(drink);</div></pre></td></tr></table></figure>
<p>在没有default case的情况下我们甚至可以进一步简化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDrink</span> (<span class="params">type</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">'The drink I chose was '</span> + &#123;</div><div class="line">    <span class="string">'coke'</span>: <span class="string">'Coke'</span>,</div><div class="line">    <span class="string">'pepsi'</span>: <span class="string">'Pepsi'</span>,</div><div class="line">    <span class="string">'lemonade'</span>: <span class="string">'Lemonade'</span></div><div class="line">  &#125;[type];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然而，我们可能需要比String更复杂的代码，这可放置在一个函数中来实现。为了简洁起见，我从新创建的函数返回上面的字符串：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> type = <span class="string">'coke'</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> drinks = &#123;</div><div class="line">  <span class="string">'coke'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'Coke'</span>;</div><div class="line">  &#125;,</div><div class="line">  <span class="string">'pepsi'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'Pepsi'</span>;</div><div class="line">  &#125;,</div><div class="line">  <span class="string">'lemonade'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'Lemonade'</span>;</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>不同的是我们需要调用对象字面量的函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">drinks[type]();</div></pre></td></tr></table></figure>
<p>这样更可以更好的维护和有更号的可读性。我们也不用担心break和case语句的落空 - 这只是一个简单的对象。</p>
<p>通常，我们将把一个switch置于一个函数中并获得一个返回值，所以让我们在这里做同样的事情，并将一个对象字面查找转换成一个可用的函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDrink</span> (<span class="params">type</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> drinks = &#123;</div><div class="line">    <span class="string">'coke'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Coke'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'pepsi'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Pepsi'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'lemonade'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Lemonade'</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> drinks[type]();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// let's call it</span></div><div class="line"><span class="keyword">var</span> drink = getDrink(<span class="string">'coke'</span>);</div><div class="line"><span class="built_in">console</span>.log(drink); <span class="comment">// 'Coke'</span></div></pre></td></tr></table></figure>
<p>这样就很好，也很容易，但这没有”默认值”的情况，然而我们可以轻松创建：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDrink</span> (<span class="params">type</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> fn;</div><div class="line">  <span class="keyword">var</span> drinks = &#123;</div><div class="line">    <span class="string">'coke'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Coke'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'pepsi'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Pepsi'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'lemonade'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Lemonade'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'default'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Default item'</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">  <span class="comment">// if the drinks Object contains the type</span></div><div class="line">  <span class="comment">// passed in, let's use it</span></div><div class="line">  <span class="keyword">if</span> (drinks[type]) &#123;</div><div class="line">    fn = drinks[type];</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// otherwise we'll assign the default</span></div><div class="line">    <span class="comment">// also the same as drinks.default</span></div><div class="line">    <span class="comment">// it's just a little more consistent using square</span></div><div class="line">    <span class="comment">// bracket notation everywhere</span></div><div class="line">    fn = drinks[<span class="string">'default'</span>];</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> fn();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// called with "dr pepper"</span></div><div class="line"><span class="keyword">var</span> drink = getDrink(<span class="string">'dr pepper'</span>);</div><div class="line"><span class="built_in">console</span>.log(drink); <span class="comment">// 'Default item'</span></div></pre></td></tr></table></figure>
<p>我们可以简化上述if和else语句，在表达式里面使用或||运算符：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDrink</span> (<span class="params">type</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> drinks = &#123;</div><div class="line">    <span class="string">'coke'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Coke'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'pepsi'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Pepsi'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'lemonade'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Lemonade'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'default'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">'Default item'</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> (drinks[type] || drinks[<span class="string">'default'</span>])();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这将在括号（）中的两个对象中的表达式中查找。然后调用表达式的结果。如果在查找中找不到drinks[type]，它将默认为[‘default’]，这样就简单！</p>
<p>我们也不必总是返回内部函数，我们可以改变对变量的引用，然后返回它：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDrink</span> (<span class="params">type</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> drink;</div><div class="line">  <span class="keyword">var</span> drinks = &#123;</div><div class="line">    <span class="string">'coke'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      drink = <span class="string">'Coke'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'pepsi'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      drink = <span class="string">'Pepsi'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'lemonade'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      drink = <span class="string">'Lemonade'</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="string">'default'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      drink = <span class="string">'Default item'</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">    </div><div class="line">  <span class="comment">// invoke it</span></div><div class="line">  (drinks[type] || drinks[<span class="string">'default'</span>])();</div><div class="line">    </div><div class="line">  <span class="comment">// return a String with chosen drink</span></div><div class="line">  <span class="keyword">return</span> <span class="string">'The drink I chose was '</span> + drink;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> drink = getDrink(<span class="string">'coke'</span>);</div><div class="line"><span class="comment">// The drink I chose was Coke</span></div><div class="line"><span class="built_in">console</span>.log(drink);</div></pre></td></tr></table></figure>
<p>这些是非常基本的解决方案，对象字面量持有一个返回String的函数，在你只需要一个String的情况下，您可以使用一个String作为键的值-某些时候会从函数返回逻辑。如果使用字符串来混合函数，则可能会更容易地使用函数来保存查找类型并如果它是函数的话就调用它 - 我们可不想去调用一个字符串类型的变量。</p>
<p><strong>对象字面量匹配多个条件</strong></p>
<p>使用switch，我们可以让它们匹配多个条件（这意味着一个以上的情况可以应用于特定的代码）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> type = <span class="string">'coke'</span>;</div><div class="line"><span class="keyword">var</span> snack;</div><div class="line"><span class="keyword">switch</span>(type) &#123;</div><div class="line"><span class="keyword">case</span> <span class="string">'coke'</span>:</div><div class="line"><span class="keyword">case</span> <span class="string">'pepsi'</span>:</div><div class="line">  snack = <span class="string">'Drink'</span>;</div><div class="line">  <span class="keyword">break</span>;</div><div class="line"><span class="keyword">case</span> <span class="string">'cookies'</span>:</div><div class="line"><span class="keyword">case</span> <span class="string">'crisps'</span>:</div><div class="line">  snack = <span class="string">'Food'</span>;</div><div class="line">  <span class="keyword">break</span>;</div><div class="line"><span class="keyword">default</span>:</div><div class="line">  drink = <span class="string">'Unknown type!'</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(snack); <span class="comment">// 'Drink'</span></div></pre></td></tr></table></figure>
<p>我们让coke和pepsi通过不添加break来匹配。对象字面量进行此操作也是很简单的，也更具声明性，同时也不容易出错。我们的代码突然变得更加结构化，更有可读性和可重复使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSnack</span> (<span class="params">type</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> snack;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isDrink</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> snack = <span class="string">'Drink'</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isFood</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> snack = <span class="string">'Food'</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> snacks = &#123;</div><div class="line">    <span class="string">'coke'</span>: isDrink,</div><div class="line">    <span class="string">'pepsi'</span>: isDrink,</div><div class="line">    <span class="string">'cookies'</span>: isFood,</div><div class="line">    <span class="string">'crisps'</span>: isFood,</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> snacks[type]();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> snack = getSnack(<span class="string">'coke'</span>);</div><div class="line"><span class="built_in">console</span>.log(snack); <span class="comment">// 'Drink'</span></div></pre></td></tr></table></figure>
<p><strong>总结</strong></p>
<p>对象字面量是JavaScript中更自然的流量控制，switch有点老且笨重，容易出现难以调试的错误。Objects更可以更好地扩展，更好地维护，我们也可以对它们进行更好的测试。它们也是设计模式的一部分，并且在其他编程任务中日常使用。对象字面量可以包含函数以及任何其他对象类型，这使得它们变得很灵活！字面量中的每个函数也有函数​​作用域，所以我们可以从我们调用的父函数返回闭包（在这种情况下getDrink返回闭包）。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/10/Perspective Boxes/" title="Perspective Boxes" itemprop="url">Perspective Boxes</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-07-10T15:21:38.554Z" itemprop="datePublished"> 发表于 2017-07-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>翻译自<a href="https://speckyboy.com/3d-css-javascript/" target="_blank" rel="external">Perspective Boxes</a></p>
<p>相信与否，这个盒子动画是用纯CSS3变换实现的。立方体使用不同的颜色和类很容易渲染出来。</p>
<p>使用循环关键帧动画来给这些盒子在3D空间中产生弹起的幻觉。通过单击右上角的任何透视按钮，你甚至可以从不同的角度查看此3D模型。很酷！</p>
<iframe id="cp_embed_FCJGI" src="//codepen.io/joshnh/embed/preview/FCJGI?height=360&amp;theme-id=0&amp;slug-hash=FCJGI&amp;default-tab=result&amp;user=joshnh&amp;embed-version=2&amp;pen-title=Pure%20CSS%20Perspective%20Boxes%20(Animated)%20v3%20-%20with%20Controls&amp;preview=true" scrolling="no" frameborder="0" height="360" allowtransparency="true" allowfullscreen="true" name="CodePen Embed" title="Pure CSS Perspective Boxes (Animated) v3 - with Controls" class="cp_embed_iframe " style="width: 100%; overflow: hidden;"></iframe>

<p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"left"</span> <span class="attr">name</span>=<span class="string">"rotate"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"left"</span>&gt;</span>Left<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"reset"</span> <span class="attr">name</span>=<span class="string">"rotate"</span> <span class="attr">checked</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"reset"</span>&gt;</span>Reset<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"right"</span> <span class="attr">name</span>=<span class="string">"rotate"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"right"</span>&gt;</span>Right<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"up"</span> <span class="attr">name</span>=<span class="string">"rotate"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"up"</span>&gt;</span>Up<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"down"</span> <span class="attr">name</span>=<span class="string">"rotate"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"down"</span>&gt;</span>Down<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"perspective"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">    <span class="attribute">font-size</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.perspective</span> &#123;</div><div class="line">	<span class="attribute">background-image</span>: </div><div class="line">	<span class="built_in">linear-gradient</span>(</div><div class="line">		/*从上到下画渐变*/</div><div class="line">		/*起始点透明度为0.1，画到2.5%的高度*/</div><div class="line">		hsla(0,0%,0%,.1) <span class="number">2.5%</span>, </div><div class="line">		<span class="comment">/*从2.5%到97.5%的高度颜色为透明*/</span></div><div class="line">		transparent <span class="number">2.5%</span>, </div><div class="line">		transparent <span class="number">97.5%</span>, </div><div class="line">		<span class="comment">/*从97.5%的高度以透明度为0.1到100%的高度透明度渐变*/</span></div><div class="line">		<span class="built_in">hsla</span>(0,0%,0%,.1) <span class="number">97.5%</span>),</div><div class="line">	<span class="comment">/*从左往右的透明度渐变*/</span></div><div class="line">	<span class="built_in">linear-gradient</span>(90deg, hsla(0,0%,0%,.1) <span class="number">2.5%</span>, transparent <span class="number">2.5%</span>, transparent <span class="number">97.5%</span>, <span class="built_in">hsla</span>(0,0%,0%,.1) <span class="number">97.5%</span>);</div><div class="line">	<span class="comment">/*以3*3的大小重复图片*/</span></div><div class="line">	<span class="attribute">background-size</span>: <span class="number">3em</span> <span class="number">3em</span>;</div><div class="line">	<span class="comment">/*box-shadow: h-shadow v-shadow blur spread color inset;*/</span></div><div class="line">	<span class="comment">/*h-shadow	必需。水平阴影的位置。允许负值</span></div><div class="line">	v-shadow	必需。垂直阴影的位置。允许负值</div><div class="line">	blur	可选。模糊距离</div><div class="line">	spread	可选。阴影的尺寸</div><div class="line">	color	可选。阴影的颜色</div><div class="line">	inset	可选。将外部阴影 (outset) 改为内部阴影。*/</div><div class="line">	<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> .<span class="number">25em</span> <span class="built_in">hsla</span>(0,0%,0%,.2);</div><div class="line">    <span class="attribute">height</span>: <span class="number">9em</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">9em</span>;</div><div class="line">    <span class="comment">/*水平垂直居中*/</span></div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</div><div class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</div><div class="line"></div><div class="line">    <span class="attribute">margin</span>: -<span class="number">7.5em</span>;</div><div class="line">    <span class="comment">/*外围一层3*3的大小*/</span></div><div class="line">    <span class="attribute">padding</span>: <span class="number">3em</span>;</div><div class="line"></div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">perspective</span>(500px)<span class="comment">/*为 3D 转换元素定义透视视图*/</span> <span class="built_in">rotateX</span>(45deg) <span class="built_in">rotateZ</span>(45deg);</div><div class="line">    <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;<span class="comment">/*子元素将保留其 3D 位置*/</span></div><div class="line">    <span class="attribute">transition</span>: <span class="number">1s</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.cube</span>,<span class="comment">/*顶面*/</span></div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:before</span>, <span class="comment">/*右面*/</span></div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:after</span> <span class="comment">/*左面*/</span></div><div class="line">&#123;</div><div class="line">	<span class="attribute">width</span>: <span class="number">3em</span>;</div><div class="line">	<span class="attribute">height</span>: <span class="number">3em</span>;</div><div class="line">	<span class="attribute">float</span>: left;</div><div class="line">	<span class="attribute">position</span>: absolute;</div><div class="line">	<span class="comment">/*四边形成边框阴影*/</span></div><div class="line">	<span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> .<span class="number">25em</span> <span class="built_in">hsla</span>(0,0%,0%,.1);</div><div class="line">	<span class="attribute">content</span>: <span class="string">''</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.cube</span> <span class="comment">/*顶面*/</span></div><div class="line">&#123;</div><div class="line">	<span class="attribute">background</span>: <span class="number">#f66</span>;</div><div class="line">	<span class="comment">/*覆盖原有的position:absolute,平铺成9个方块*/</span></div><div class="line">	<span class="attribute">position</span>: relative;</div><div class="line">	<span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(0deg) </div><div class="line">	<span class="comment">/*距离底面3em高度*/</span></div><div class="line">	<span class="built_in">translateZ</span>(3em);</div><div class="line">	<span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</div><div class="line">	<span class="attribute">transition</span>: .<span class="number">25s</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:after</span> <span class="comment">/*左面*/</span></div><div class="line">&#123;</div><div class="line">	<span class="attribute">background-color</span>: <span class="number">#e55</span>;</div><div class="line">	<span class="attribute">transform</span>: <span class="built_in">rotateX</span>(-90deg) <span class="built_in">translateY</span>(3em);</div><div class="line">	<span class="comment">/*设置旋转元素的基点位置</span></div><div class="line">	语法：transform-origin: x-axis y-axis z-axis;</div><div class="line">	值						描述</div><div class="line">	x-axis					定义视图被置于 X 轴的何处。可能的值：</div><div class="line">	left</div><div class="line">	center</div><div class="line">	right</div><div class="line">	length</div><div class="line">	%</div><div class="line"></div><div class="line">	y-axis					定义视图被置于 Y 轴的何处。可能的值：</div><div class="line">	top</div><div class="line">	center</div><div class="line">	bottom</div><div class="line">	length</div><div class="line">	%</div><div class="line"></div><div class="line">	z-axis					定义视图被置于 Z 轴的何处。可能的值：</div><div class="line">	length</div><div class="line">	*/</div><div class="line">	<span class="attribute">transform-origin</span>: <span class="number">100%</span> <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*右面*/</span></div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">	<span class="attribute">background-color</span>: <span class="number">#d44</span>;</div><div class="line">	<span class="attribute">transform</span>: <span class="built_in">rotateY</span>(90deg) <span class="built_in">translateX</span>(3em);</div><div class="line">	<span class="attribute">transform-origin</span>: <span class="number">100%</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*至此已形成3个面*/</span></div><div class="line"></div><div class="line"><span class="comment">/* 改变背景颜色 */</span></div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(even)</span> &#123;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#fc6</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(even)</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#eb5</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(even)</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#da4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*动画*/</span></div><div class="line">@<span class="keyword">keyframes</span> wave &#123;</div><div class="line">	50% &#123;</div><div class="line">		<span class="attribute">transform</span>: <span class="built_in">translateZ</span>(4.5em);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(1)</span> &#123;</div><div class="line">	<span class="comment">/*</span></div><div class="line">	语法：animation: name duration timing-function delay iteration-count direction;</div><div class="line">	值							描述</div><div class="line">	animation-name				规定需要绑定到选择器的 keyframe 名称。。</div><div class="line">	animation-duration			规定完成动画所花费的时间，以秒或毫秒计。</div><div class="line">	animation-timing-function	规定动画的速度曲线。</div><div class="line">	animation-delay				规定在动画开始之前的延迟。</div><div class="line">	animation-iteration-count	规定动画应该播放的次数。</div><div class="line">	animation-direction			规定是否应该轮流反向播放动画。</div><div class="line">	*/</div><div class="line">	<span class="attribute">animation</span>: wave <span class="number">2s</span> .<span class="number">1s</span> ease-in-out infinite;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(2)</span> &#123;</div><div class="line">	<span class="attribute">animation</span>: wave <span class="number">2s</span> .<span class="number">2s</span> ease-in-out infinite;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</div><div class="line">	<span class="attribute">animation</span>: wave <span class="number">2s</span> .<span class="number">3s</span> ease-in-out infinite;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(4)</span> &#123;</div><div class="line">	<span class="attribute">animation</span>: wave <span class="number">2s</span> .<span class="number">4s</span> ease-in-out infinite;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(5)</span> &#123;</div><div class="line">	<span class="attribute">animation</span>: wave <span class="number">2s</span> .<span class="number">5s</span> ease-in-out infinite;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(6)</span> &#123;</div><div class="line">	<span class="attribute">animation</span>: wave <span class="number">2s</span> .<span class="number">6s</span> ease-in-out infinite;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(7)</span> &#123;</div><div class="line">	<span class="attribute">animation</span>: wave <span class="number">2s</span> .<span class="number">7s</span> ease-in-out infinite;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(8)</span> &#123;</div><div class="line">	<span class="attribute">animation</span>: wave <span class="number">2s</span> .<span class="number">8s</span> ease-in-out infinite;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cube</span><span class="selector-pseudo">:nth-child(9)</span> &#123;</div><div class="line">	<span class="attribute">animation</span>: wave <span class="number">2s</span> .<span class="number">9s</span> ease-in-out infinite;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*上下左右按钮*/</span></div><div class="line"><span class="selector-tag">input</span> &#123;</div><div class="line">	<span class="attribute">display</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">label</span> &#123;</div><div class="line">	<span class="attribute">background</span>: <span class="number">#ddd</span>;</div><div class="line">	<span class="attribute">cursor</span>: pointer;</div><div class="line">	<span class="attribute">display</span>: block;</div><div class="line">	<span class="attribute">font-family</span>: sans-serif;</div><div class="line">	<span class="attribute">width</span>: <span class="number">4.5em</span>;</div><div class="line">	<span class="attribute">line-height</span>: <span class="number">3em</span>;</div><div class="line">	<span class="attribute">text-align</span>: center;</div><div class="line">	<span class="attribute">position</span>: absolute;</div><div class="line">	<span class="attribute">right</span>: .<span class="number">5em</span>;</div><div class="line">	<span class="attribute">top</span>: <span class="number">4em</span>;</div><div class="line">	<span class="attribute">transition</span>: .<span class="number">25s</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">label</span><span class="selector-attr">[for="left"]</span> &#123;</div><div class="line">    <span class="attribute">right</span>: <span class="number">10.5em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">label</span><span class="selector-attr">[for="reset"]</span> &#123;</div><div class="line">    <span class="attribute">right</span>: <span class="number">5.5em</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">label</span><span class="selector-attr">[for="up"]</span> &#123;</div><div class="line">    <span class="attribute">right</span>: <span class="number">5.5em</span>;</div><div class="line">    <span class="attribute">top</span>: .<span class="number">5em</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">label</span><span class="selector-attr">[for="down"]</span> &#123;</div><div class="line">    <span class="attribute">right</span>: <span class="number">5.5em</span>;</div><div class="line">    <span class="attribute">top</span>: <span class="number">7.5em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">label</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#bbb</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:checked</span> + <span class="selector-tag">label</span> &#123;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#666</span>;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-id">#left</span><span class="selector-pseudo">:checked</span> ~ <span class="selector-class">.perspective</span> &#123;</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">perspective</span>(500px) <span class="built_in">rotateX</span>(45deg) <span class="built_in">rotateZ</span>(75deg);</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#right</span><span class="selector-pseudo">:checked</span> ~ <span class="selector-class">.perspective</span> &#123;</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">perspective</span>(500px) <span class="built_in">rotateX</span>(45deg) <span class="built_in">rotateZ</span>(15deg);</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#up</span><span class="selector-pseudo">:checked</span> ~ <span class="selector-class">.perspective</span> &#123;</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">perspective</span>(500px) <span class="built_in">rotateX</span>(75deg) <span class="built_in">rotateZ</span>(45deg);</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#down</span><span class="selector-pseudo">:checked</span> ~ <span class="selector-class">.perspective</span> &#123;</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">perspective</span>(500px) <span class="built_in">rotateX</span>(15deg) <span class="built_in">rotateZ</span>(45deg);</div><div class="line">&#125;​</div></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/CSS/">CSS</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/09/clip/" title="clip" itemprop="url">clip</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-07-09T08:31:35.508Z" itemprop="datePublished"> 发表于 2017-07-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>翻译自<a href="https://tympanus.net/codrops/css_reference/clip/" target="_blank" rel="external">codrops</a></p>
<p><strong> 剪辑属性用于剪除元素的区域，只保留元素的一部分可见 </strong></p>
<p>在元素被裁剪之后可见的元素的部分被称为剪切区域。剪辑应用于元素的border-box区域，该区域最初是完全可见的。剪切一个元素类似于裁剪它。</p>
<p>使用clip，您可以指定向内指定要从中剪除元素边缘的区域的偏移量。</p>
<p>clip属性只接受一个形状函数，即rect（）函数作为一个值。 rect（）函数需要四个参数，这些参数是元素的顶部和左侧边界的偏移量。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">clip</span>: <span class="selector-tag">rect</span>(&lt;<span class="selector-tag">top</span>&gt;, &lt;<span class="selector-tag">right</span>&gt;, &lt;<span class="selector-tag">bottom</span>&gt;, &lt;<span class="selector-tag">left</span>&gt;);</div></pre></td></tr></table></figure>
<p><strong>顶部和底部的值定义了从顶部边框的偏移量，左侧和右边的值均定义了左边界的偏移量。</strong></p>
<p><img src="img/clip-offsets.jpg"></p>
<p>剪辑区域或元素被裁剪后保持可见的元素部分由rect（）函数的偏移定义，如上图所示。</p>
<p>元素的裁剪区域剪裁位于裁剪区域之外的元素的任何方面（例如，content, children, background, borders, text decoration, outline和可见滚动机制（如果有的话））。被剪辑的内容不会导致溢出。</p>
<p><strong> 官方语法 </strong></p>
<ul>
<li>语法</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">clip: auto | rect() | inherit;</div></pre></td></tr></table></figure>
<p>where</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rect() = rect(&lt;top&gt;, &lt;right&gt;, &lt;bottom&gt;, &lt;left&gt;), and &lt;top&gt;, &lt;right&gt;, &lt;bottom&gt;, &lt;left&gt; are all &lt;length&gt; values</div></pre></td></tr></table></figure>
<ul>
<li><p>初始值: auto</p>
</li>
<li><p>适用于: 绝对定位的元素</p>
</li>
<li><p>动画：rect（）函数的偏移量接受<length>值，因此可以作为一个长度来动画化</length></p>
</li>
</ul>
<p><strong> 示例 </strong></p>
<iframe src="https://tympanus.net/codrops-playground/SaraSoueidan/xmNQLVRK/embed/result,html,css/" class="codrops-playground-embed" width="100%" height="500px" frameborder="0" scrolling="no" allowfullscreen="true" style="position: relative;"></iframe>









        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/CSS/">CSS</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/06/17/冒泡排序/" title="冒泡排序" itemprop="url">冒泡排序</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-06-17T15:35:05.039Z" itemprop="datePublished"> 发表于 2017-06-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><img src="img/Bubble-sort-example-300px.gif"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> i = arr.length, j;</div><div class="line">    <span class="keyword">var</span> tempExchangVal;</div><div class="line">    <span class="keyword">while</span> (i &gt; <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; i - <span class="number">1</span>; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</div><div class="line">                tempExchangVal = arr[j];</div><div class="line">                arr[j] = arr[j + <span class="number">1</span>];</div><div class="line">                arr[j + <span class="number">1</span>] = tempExchangVal;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        i--;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> arr;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">8</span>];</div><div class="line"><span class="keyword">var</span> arrSorted = bubbleSort(arr);</div></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/算法/">算法</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Introduction-to-Algorithms/">Introduction to Algorithms</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/06/17/归并排序/" title="归并排序" itemprop="url">归并排序</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-06-17T10:15:45.296Z" itemprop="datePublished"> 发表于 2017-06-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><img src="img/Merge-sort-example-300px.gif"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>　<span class="title">merge</span>(<span class="params">left, right</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span>　result=[];</div><div class="line">    <span class="keyword">while</span>(left.length&gt;<span class="number">0</span> &amp;&amp; right.length&gt;<span class="number">0</span>)&#123;</div><div class="line">        <span class="keyword">if</span>(left[<span class="number">0</span>]&lt;right[<span class="number">0</span>])&#123;</div><div class="line">            result.push(left.shift());</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            result.push(right.shift());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span>　result.concat(left).concat(right);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span>　<span class="title">mergeSort</span>(<span class="params">items</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(items.length == <span class="number">1</span>)&#123;</div><div class="line">        <span class="keyword">return</span>　items;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">var</span> middle = <span class="built_in">Math</span>.floor(items.length/<span class="number">2</span>),</div><div class="line">	    left = items.slice(<span class="number">0</span>, middle),</div><div class="line">	    right = items.slice(middle);</div><div class="line">	<span class="keyword">return</span>　merge(mergeSort(left), mergeSort(right));</div><div class="line">&#125;</div></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/算法/">算法</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Introduction-to-Algorithms/">Introduction to Algorithms</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/06/16/插入排序/" title="插入排序" itemprop="url">插入排序</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-06-16T07:07:47.683Z" itemprop="datePublished"> 发表于 2017-06-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><img src="img/Insertion-sort-example-300px.gif"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">A=[<span class="number">5</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">2</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">1</span>;j&lt;A.length;j++) &#123;</div><div class="line">	<span class="keyword">let</span> key = A[j];</div><div class="line">	i= j<span class="number">-1</span>;</div><div class="line">	<span class="keyword">while</span>(i&gt;=<span class="number">0</span> &amp;&amp; A[i]&gt;key) &#123;</div><div class="line">		A[i+<span class="number">1</span>]=A[i];</div><div class="line">		i=i<span class="number">-1</span>;</div><div class="line">	&#125;</div><div class="line">	A[i+<span class="number">1</span>]=key;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/算法/">算法</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Introduction-to-Algorithms/">Introduction to Algorithms</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/04/25/Comparing Classical and Prototypal Inheritance/" title="Comparing Classical and Prototypal Inheritance" itemprop="url">Comparing Classical and Prototypal Inheritance</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-04-25T14:59:12.664Z" itemprop="datePublished"> 发表于 2017-04-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>The classical and prototypal paradigms for creating new objects are very different from each other, and the objects that each one produces behave differently. Each paradigm has its own pros and cons, which should help you determine which one to use in a given situation.</p>
<p>Classical inheritance is well understood, both in JavaScript and the programmer community in general. Almost all object-oriented code written in JavaScript uses this paradigm. If you are creating an API for widespread use, or if there is the possibility that other programmers not familiar with prototypal inheritance will be working on your code, it is best to go with classical. JavaScript is the only popular, widely used language that uses prototypal inheritance, so odds are most people will never have used it before. It can also be confusing to have an object with links back to its prototype object. Programmers who don’t fully understand prototypal inheritance will think of this as some sort of reverse inheritance, where the parent inherits from its children. Even though this isn’t the case, it can still be a very confusing topic. But since this form of classical inheritance is only imitating true class-based inheritance, advanced JavaScript programmers need to understand how prototypal inheritance truly works at some point anyway. Some would argue that hiding this fact does more harm than good. </p>
<p>Prototypal inheritance is very memory-efficient. Because of the way prototype chain reads members, all cloned objects share a single copy of each attribute and method, until those attributes and methods are written to directly on the cloned object. Contrast this with the objects created using classical inheritance, where each object has a copy of every attribute (and private<br>method) in memory. The savings here are enormous. It also seems to be a much more<br>elegant approach, needing only a single clone function, rather than several lines of incomprehensible syntax such as SuperClass.call(this, arg) and SubClass.prototype = new SuperClass for each class you want to extend (it is true, however, that some of these lines can, in turn, be condensed into the extend function). Don’t think that just because prototypal inheritance is simple that it isn’t also complex. Its power lies in its simplicity.</p>
<p>The decision to use classical or prototypal inheritance probably depends most on how well you like each paradigm. Some people seem naturally drawn to the simplicity of prototypal inheritance, while others are much more comfortable in the more familiar classical. </p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/JavaScript-设计模式/">JavaScript 设计模式</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Pro-JavaScript-Design-Patterns/">Pro JavaScript Design Patterns</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/04/25/Prototypal Inheritance/" title="Prototypal Inheritance" itemprop="url">Prototypal Inheritance</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-04-25T14:12:58.261Z" itemprop="datePublished"> 发表于 2017-04-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="Asymmetrical-Reading-and-Writing-of-Inherited-Members"><a href="#Asymmetrical-Reading-and-Writing-of-Inherited-Members" class="headerlink" title="Asymmetrical Reading and Writing of Inherited Members"></a>Asymmetrical Reading and Writing of Inherited Members</h3><p>In classical inheritance, each instance of Author has its own copy of the books array. You could add to it by writing author[1].books.push(‘New Book Title’). That is not initially possible with the object you created using prototypal inheritance because of the way prototype chaining works. A clone is not a fully independent copy of its prototype object; it is a new empty object with its prototype attribute set to the prototype object. When it is just created, author[1].name is actually a link back to the primitive Person.name. This is because of the asymmetry inherent in reading and writing objects linked from the prototype. When you read the value of author[1].name, you are getting the value linked from the prototype, provided you haven’t defined the name attribute directly on the author[1] instance yet. When you write to author[1].name, you are defining a new attribute directly on the author[1] object.<br>This example illustrates that asymmetry:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> authorClone = clone(Author);</div><div class="line">alert(authorClone.name); <span class="comment">// Linked to the primative Person.name, which is the</span></div><div class="line">                         <span class="comment">// string 'default name'.</span></div><div class="line">authorClone.name = <span class="string">'new name'</span>; <span class="comment">// A new primative is created and added to the</span></div><div class="line">                               <span class="comment">// authorClone object itself.</span></div><div class="line">alert(authorClone.name); <span class="comment">// Now linked to the primative authorClone.name, which</span></div><div class="line">                         <span class="comment">// is the string 'new name'.</span></div><div class="line">authorClone.books.push(<span class="string">'new book'</span>); <span class="comment">// authorClone.books is linked to the array</span></div><div class="line">                                    <span class="comment">// Author.books. We just modified the</span></div><div class="line">                                    <span class="comment">// prototype object's default value, and all</span></div><div class="line">                                    <span class="comment">// other objects that link to it will now</span></div><div class="line">                                    <span class="comment">// have a new default value there.</span></div><div class="line">authorClone.books = []; <span class="comment">// A new array is created and added to the authorClone</span></div><div class="line">                        <span class="comment">// object itself.</span></div><div class="line">authorClone.books.push(<span class="string">'new book'</span>); <span class="comment">// We are now modifying that new array.</span></div></pre></td></tr></table></figure>
<p>This also illustrates why you must create new copies of data types that are passed by reference. In the previous example, pushing a new value onto the authorClone.books array is actually pushing it to Author.books. This is bad because you just modified the value not only for Author but for any object inheriting from Author that has not yet overwritten the default. You must create<br>new copies of all arrays and objects before you start changing their members. It is very easy to forget this and modify the value of the prototype object. This should be avoided at all costs; debugging these types of errors can be very time-consuming. In these situations, you can use the hasOwnProperty method to distinguish between inherited members and the object’s actual members. </p>
<p>Sometimes prototype objects will have child objects within them. If you want to override a single value within that child object, you have to recreate the entire thing. This can be done by setting the child object to be an empty object literal and then recreating it, but that would mean that the cloned object would have to know the exact structure and defaults for each child object. In order to keep all objects as loosely coupled as possible, any complex child objects should be created using methods:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> CompoundObject = &#123;</div><div class="line">    <span class="attr">string1</span>: <span class="string">'default value'</span>,</div><div class="line">    <span class="attr">childObject</span>: &#123;</div><div class="line">        <span class="attr">bool</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">num</span>: <span class="number">10</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> compoundObjectClone = clone(CompoundObject);</div><div class="line"><span class="comment">// Bad! Changes the value of CompoundObject.childObject.num.</span></div><div class="line">compoundObjectClone.childObject.num = <span class="number">5</span>;</div><div class="line"><span class="comment">// Better. Creates a new object, but compoundObject must know the structure</span></div><div class="line"><span class="comment">// of that object, and the defaults. This makes CompoundObject and</span></div><div class="line"><span class="comment">// compoundObjectClone tightly coupled.</span></div><div class="line">compoundObjectClone.childObject = &#123;</div><div class="line">    <span class="attr">bool</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">num</span>: <span class="number">5</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>In this example, childObject is recreated and ompoundObjectClone.childObject.num is modified. The problem is that compoundObjectClone must know that childObject has two attributes, with values true and 10. A better approach is to have a factory method that creates the childObject:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Best approach. Uses a method to create a new object, with the same structure and</span></div><div class="line"><span class="comment">// defaults as the original.</span></div><div class="line"><span class="keyword">var</span> CompoundObject = &#123;&#125;;</div><div class="line">CompoundObject.string1 = <span class="string">'default value'</span>,</div><div class="line">    CompoundObject.createChildObject = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">bool</span>: <span class="literal">true</span>,</div><div class="line">            <span class="attr">num</span>: <span class="number">10</span></div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">CompoundObject.childObject = CompoundObject.createChildObject();</div><div class="line"><span class="keyword">var</span> compoundObjectClone = clone(CompoundObject);</div><div class="line">compoundObjectClone.childObject = CompoundObject.createChildObject();</div><div class="line">compoundObjectClone.childObject.num = <span class="number">5</span>;</div></pre></td></tr></table></figure>
<h3 id="The-clone-Function"><a href="#The-clone-Function" class="headerlink" title="The clone Function"></a>The clone Function</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* Clone function. */</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">object</span>) </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line">    F.prototype = object;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>First the clone function creates a new and empty function, F. It then sets the prototype attribute of F to the prototype object. You can see here the intent of the original JavaScript creators. The prototype attribute is meant to point to the prototype object, and through prototype chaining it provides links to all the inherited members. Lastly, the function creates a new object by calling the new operator on F. The cloned object that is returned is completely empty, except<br>for the prototype attribute, which is (indirectly) pointing to the prototype oject, by way of the F object.</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/JavaScript-设计模式/">JavaScript 设计模式</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Pro-JavaScript-Design-Patterns/">Pro JavaScript Design Patterns</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/04/25/Classical Inheritance/" title="Classical Inheritance" itemprop="url">Classical Inheritance</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="YLJ77" target="_blank" itemprop="author">YLJ77</a>
		
  <p class="article-time">
    <time datetime="2017-04-25T13:51:18.325Z" itemprop="datePublished"> 发表于 2017-04-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="The-extend-Function"><a href="#The-extend-Function" class="headerlink" title="The extend Function"></a>The extend Function</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* Extend function. */</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">subClass, superClass</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</div><div class="line">    F.prototype = superClass.prototype;</div><div class="line">    subClass.prototype = <span class="keyword">new</span> F();</div><div class="line">    subClass.prototype.constructor = subClass;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> It sets the prototype and then resets the correct constructor. As a bonus, it adds the empty class F into the prototype chain in order to prevent a new (and possible large) instance of the superclass from having to be instantiated. This is also beneficial in situations where the superclass’s constructor has side effects or does something that is computationally intensive. Since the object that gets instantiated for the prototype is usually just a throwaway instance, you don’t want to create it unnecessarily</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* Class Person. */</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line">Person.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</div><div class="line">&#125;</div><div class="line"><span class="comment">/* Class Author. */</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Author</span>(<span class="params">name, books</span>) </span>&#123;</div><div class="line">    Person.call(<span class="keyword">this</span>, name);</div><div class="line">    <span class="keyword">this</span>.books = books;</div><div class="line">&#125;</div><div class="line">extend(Author, Person);</div><div class="line">Author.prototype.getBooks = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.books;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p> Instead of setting the prototype and constructor attributes manually, simply call the extend function immediately after the class declaration (and before you add any methods to the prototype). The only problem with this is that the name of the superclass (Person) is hardcoded within the Author declaration. It would be better to refer to it in a more general way:</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* Extend function, improved. */</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">subClass, superClass</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</div><div class="line">    F.prototype = superClass.prototype;</div><div class="line">    subClass.prototype = <span class="keyword">new</span> F();</div><div class="line">    subClass.prototype.constructor = subClass;</div><div class="line">    subClass.superclass = superClass.prototype;</div><div class="line">    <span class="keyword">if</span>(superClass.prototype.constructor == <span class="built_in">Object</span>.prototype.constructor) &#123;</div><div class="line">        superClass.prototype.constructor = superClass;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> This version is a little longer but provides the superclass attribute, which you can now use to make Author less tightly coupled to Person. The first four lines of the function are the same as before. The last three lines simply ensure that the constructor attribute is set correctly on the superclass (even if the superclass is the Object class itself). This will become important when you use this new superclass attribute to call the superclass’s constructor:</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* Class Author. */</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Author</span>(<span class="params">name, books</span>) </span>&#123;</div><div class="line">    Author.superclass.constructor.call(<span class="keyword">this</span>, name);</div><div class="line">    <span class="keyword">this</span>.books = books;</div><div class="line">&#125;</div><div class="line">extend(Author, Person);</div><div class="line">Author.prototype.getBooks = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.books;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>Adding the superclass attribute also allows you to call methods directly from the superclass.This is useful if you want to override a method while still having access to the superclass’s implementation of it. For instance, to override Person’s implementation of getName with a new version,you could use Author.superclass.getName to first get the original name and then add to it:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Author.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> name = Author.superclass.getName.call(<span class="keyword">this</span>);</div><div class="line">    <span class="keyword">return</span> name + <span class="string">', Author of '</span> + <span class="keyword">this</span>.getBooks().join(<span class="string">', '</span>);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/JavaScript-设计模式/">JavaScript 设计模式</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Pro-JavaScript-Design-Patterns/">Pro JavaScript Design Patterns</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="YLJ77" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/CSS/" title="CSS">CSS<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/JavaScript/" title="JavaScript">JavaScript<sup>27</sup></a></li>
		  
		
		  
			<li><a href="/categories/JavaScript-设计模式/" title="JavaScript 设计模式">JavaScript 设计模式<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/涉及底层/" title="涉及底层">涉及底层<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/算法/" title="算法">算法<sup>3</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/js/" title="js">js<sup>24</sup></a></li>
			
		
			
				<li><a href="/tags/Type-Grammar/" title="Type &amp; Grammar">Type &amp; Grammar<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Pro-JavaScript-Design-Patterns/" title="Pro JavaScript Design Patterns">Pro JavaScript Design Patterns<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Introduction-to-Algorithms/" title="Introduction to Algorithms">Introduction to Algorithms<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Javascript-Ninja/" title="Javascript_Ninja">Javascript_Ninja<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/CSS/" title="CSS">CSS<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/this/" title="this">this<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/闭包/" title="闭包">闭包<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/DOM/" title="DOM">DOM<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/函数/" title="函数">函数<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/对象/" title="对象">对象<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/调试/" title="调试">调试<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/underscore/" title="underscore">underscore<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/BOM/" title="BOM">BOM<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/事件/" title="事件">事件<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/函数表达式/" title="函数表达式">函数表达式<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/DOM2/" title="DOM2">DOM2<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/响应式/" title="响应式">响应式<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/媒体查询/" title="媒体查询">媒体查询<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/DOM3/" title="DOM3">DOM3<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://http:YLJ77.github.io" target="_blank" title="lin&#39;s Blog">lin&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p> Hello ,I&#39;m linjie Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/YLJ77" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
		<a href="mailto:linjieyang77@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		
				<div class="cc-license">
          <a href="http://creativecommons.org/licenses/by-nc/4.0" class="cc-opacity" target="_blank">
            <img src="/img/cc-by-nc.svg" alt="Creative Commons" />
          </a>
        </div>
    

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="YLJ77">YLJ77</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
